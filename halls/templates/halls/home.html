{% extends "halls/base.html" %}

{% block content %}
<section class="jumbotron text-center">
	<div class="container">
		<h1 class="jumbotron-heading">What's your personal Hall of Fame?</h1>
		<p class="lead text-muted">Add your videos, and share them with your friends.</p>
		<a href="{% url 'create_hall' %}" class="btn btn-primary">Creat Your Hall Of Fame</a>
	</div>
</section>
<div class="container">
	<h1 class="text-center">Popular Videos</h1>
	{% for hall in popular_halls %}
		<h2><a href="{% url 'detail_hall' hall.id %}">{{ hall.title }}</a></h2>	
		<div class="row">
			{% for video in hall.video_set.all %} <!-- a trick to get all models from the other models, need foreign key? -->
				<div class="col-md-4 mt-3">
					<div class="card mb-4 shadow-sm">
						<iframe width="100%" height="225" src="https://www.youtube.com/embed/{{ video.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						<div class="card-body">
							<h5 class="card-title">{{ video.title }}</h5>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>	
	{% endfor %}

	<h1 class="text-center">Recent Halls of Fame</h1>
	{% for hall in recent_halls %}
		<h2><a href="{% url 'detail_hall' hall.id %}">{{ hall.title }}</a></h2>	
		<div class="row">
			{% for video in hall.video_set.all %} <!-- a trick to get all models from the other models, need foreign key? -->
				<div class="col-md-4 mt-3">
					<div class="card mb-4 shadow-sm">
						<iframe width="100%" height="225" src="https://www.youtube.com/embed/{{ video.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						<div class="card-body">
							<h5 class="card-title">{{ video.title }}</h5>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>	
	{% endfor %}
</div>

{% endblock%}